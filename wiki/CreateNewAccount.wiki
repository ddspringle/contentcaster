#summary Coldfusion code to create a new admin account manually.
#labels Phase-Implementation,Phase-Deploy,Featured

= Introduction =

This document describes how to create your own new admin account using your own new encryption key. ContentCaster v1.0 makes use of encryption in almost every area. To ensure a unique encryption you should change your encryption key and replace your admin account as follows.


= Details =

==Encryption Key==
  * To create a new encryption key, create a new .cfm file and place the following code inside:

{{{
<cfoutput>#GenerateSecretKey('BLOWFISH')#</cfoutput>
}}}

  * Save the file to your server in the root directory of ContentCaster (i.e. outputKey.cfm) and open it in a browser. This will output a unique encryption key. Refresh a few times to get one you like :)

  * Next, open up your Application.cfm file and replace the _fishkey_ variable's value with the one you generate in the last step.


==Admin Account==
  * To generate new account information for your administrator account after you have replace your _fishkey_ value, create another new .cfm file and place the following code inside:

{{{
<cfoutput> 
  username : #Encrypt('myUserName',fishkey,'BLOWFISH','HEX')#<br />
  password : #Encrypt(Hash('myPassword','MD5'),fishkey,'BLOWFISH','HEX')#<br />
  firstName: #Encrypt('myFirstName',fishkey,'BLOWFISH','HEX')#<br />
  lastName : #Encrypt('myLastName',fishkey,'BLOWFISH','HEX')# 
</cfoutput>
}}}

  * Edit this file and change the values of 'myUserName', 'myPassword', 'myFirstName' and 'myLastName' with actual values (i.e. 'john@mydomain.com', 'd@rkN!gh7', 'John', 'Adams')

  * Save the file to your server in the root directory of ContentCaster (i.e. outputAdmin.cfm) and open it in a browser. This will output the encrypted (and hashed) values required to replace the values for these fields in the database records. 

  * You will have to manually edit the existing a_userbase table entry for admin (#1) and replace the username, password, firstName and lastName values with the ones produced by this file, or alternatively you can do this before importing the SQL file included with ContentCaster v1.0 by editing the SQL file directly.

  * You can also write a Coldfusion cfquery to update this record using the above code as a template.